{% extends "base.html" %}
{% block title %}Convertidor · VYM{% endblock %}
{% block content %}

<h2 class="titulo-principal">Convertidor Inteligente</h2>

<section class="container">

  <!--  WORD → PDF -->
  <div class="column">
    <h2>Convertidor Word a PDF</h2>
    <form action="{{ url_for('convert_docx') }}" method="post" enctype="multipart/form-data" class="form-box">
      <input type="file" name="file" required>
      <button type="submit">Convertir a PDF</button>
    </form>
  </div>


  <!--  IMAGENES -->
  <div class="column">
    <h2>Convertidor de Imágenes</h2>
    <form action="{{ url_for('convert_image') }}" method="post" enctype="multipart/form-data" class="form-box">
      <input type="file" name="image" required>

      <select name="format" required>
        <option value="png">PNG</option>
        <option value="jpg">JPG</option>
        <option value="webp">WEBP</option>
      </select>

      <button type="submit">Convertir Imagen</button>
    </form>

    {% if images %}
    <div class="gallery">
      <h3>Imágenes convertidas recientemente</h3>

      <div class="gallery-grid">
        {% for img in images %}
          <a href="{{ url_for('download', id=img.id) }}" title="Descargar {{ img.output_filename }}">
            <img 
              src="{{ url_for('image_raw', id=img.id) }}"
              class="preview-img"
              alt="{{ img.output_filename }}">
          </a>
        {% endfor %}
      </div>
    </div>
    {% endif %}

  </div>

</section>

{% endblock %}

